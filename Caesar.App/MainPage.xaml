<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="Caesar.App.MainPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit">

    <ScrollView>
        <VerticalStackLayout
            Padding="15"
            Spacing="20"
            VerticalOptions="Center">

            <Image
                HeightRequest="100"
                HorizontalOptions="Center"
                Source="security.png" />

            <Label Text="Key" />
            <Entry
                Keyboard="Numeric"
                MaxLength="2"
                Text="{Binding Key}">
                <Entry.Behaviors>
                    <toolkit:TextValidationBehavior Flags="ValidateOnValueChanged" RegexPattern="^[0-9]+$" />
                </Entry.Behaviors>
            </Entry>

            <Label Text="Text" />
            <Editor
                x:Name="ResultEditor"
                AutoSize="TextChanges"
                Placeholder="Your text that you want to encrypt or decrypt"
                Text="{Binding Text}" />

            <HorizontalStackLayout HorizontalOptions="Center" VerticalOptions="Center">
                <Label Padding="10" Text="Encrypt" />
                <CheckBox IsChecked="{Binding IsCrypt}" VerticalOptions="Center" />
            </HorizontalStackLayout>

            <Button Command="{Binding RunCommand}" Text="Run" />

            <Border
                Padding="20"
                StrokeShape="RoundRectangle 10"
                StrokeThickness="2">

                <Grid ColumnDefinitions="*, Auto" RowDefinitions="Auto">

                    <Label
                        Grid.Column="0"
                        MaximumHeightRequest="500"
                        Text="{Binding Result}"
                        VerticalOptions="Center" />

                    <Button
                        Grid.Column="1"
                        Padding="10"
                        Background="Transparent"
                        Command="{Binding CopyCommand}"
                        HeightRequest="40"
                        VerticalOptions="Start"
                        WidthRequest="40">

                        <Button.ImageSource>
                            <FontImageSource
                                FontFamily="MaterialAssets"
                                Glyph="&#xe14d;"
                                Size="24"
                                Color="Gray" />
                        </Button.ImageSource>
                    </Button>
                </Grid>
            </Border>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>